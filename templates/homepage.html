{% extends "base.html" %}
{% load static %}

{% block title %}Home - WatchCraft{% endblock %}

{% block head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<section class="hero-section">
  <div class="hero-content">
    <h1>YOUR NEXT <span>BINGE</span>,<br>BRILLIANTLY ORGANIZED</h1>
    <p>
      Meet your new movie sidekick. Effortlessly track, discover, and share what you want to watchâ€”
      no more endless scrolling. Dive into a smarter, more fun way to manage your watchlist and get
      spot-on recommendations, all in one place.
    </p>
   <a href="/movies" class="frosted-btn">See More</a>

  </div>
</section>

<div class="banner">Broadband Movies</div>
<div class="carousel-wrapper">
  <div class="carousel" id="carousel">
    <div class="carousel-track" id="track">
     <div class="carousel-item">
  <img src="https://i.pinimg.com/736x/5b/58/68/5b5868c52057d2a1ba26f560438a9274.jpg" alt="Squid Game Poster">
</div>
<div class="carousel-item">
  <img src="https://images.justwatch.com/poster/324425000/s718/when-life-gives-you-tangerines.jpg" alt="When Life Gives You Tangerine Poster">
</div>
<div class="carousel-item">
  <img src="https://th.bing.com/th/id/R.6643a6baa39636a28362430a7b661e02?rik=zlZTpa7FmZFvbg&riu=http%3a%2f%2fwww.blackfilm.com%2fread%2fwp-content%2fuploads%2f2018%2f03%2fAvengers-Infinity-War-new-poster.jpg&ehk=jsSvmXCEEpifurzDZH1G%2bp2T6%2f1ubqZd%2bsC4lLrcbmo%3d&risl=&pid=ImgRaw&r=0" alt="Avengers Poster">
</div>
<div class="carousel-item">
  <img src="https://img.buzzfeed.com/buzzfeed-static/static/2014-02/enhanced/webdr03/16/0/original-7036-1392530210-3.jpg" alt="Frozen Poster">
</div>
<div class="carousel-item">
  <img src="https://wallpaperaccess.com/full/2624025.jpg" alt="Titanic Poster">
</div>
<div class="carousel-item">
  <img src="https://www.5movierulz.money/uploads/Sita-Ramam-Telugu.jpg" alt="Sita Ramam">
</div>
<div class="carousel-item">
  <img src="https://tse1.mm.bing.net/th/id/OIP.5t4DXNMwe1E-m_6IoUV4JgHaLH?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" alt="Parasite Poster">
</div>
<div class="carousel-item">
  <img src="https://tse3.mm.bing.net/th/id/OIP.2VhxzF0tQHhH8CFuOQu3qgHaK-?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" alt="Avatar Poster">
</div>
<div class="carousel-item">
  <img src="https://m.media-amazon.com/images/I/81t2CVWEsUL._AC_SY679_.jpg" alt="Harry Potter Poster">
</div>
<div class="carousel-item">
  <img src="https://image.tmdb.org/t/p/w500/8QVDXDiOGHRcAD4oM6MXjE0osSj.jpg" alt="Sita Ramam Poster">
</div>
<div class="carousel-item">
  <img src="https://tse2.mm.bing.net/th/id/OIP.9pqAPtne1v2MhVxFg2uWCAHaHa?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" alt="Param Sundari Poster">
</div>
<div class="carousel-item">
  <img src="https://m.media-amazon.com/images/M/MV5BZThiYjY3ODUtOGM4Yy00OGE0LTliM2UtYjFlNDY0Mzg3OWJlXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Lokah Poster">
</div>
<div class="carousel-item">
  <img src="https://tse2.mm.bing.net/th/id/OIP.lsekXqggQ9wabdjSsyIs3gHaKj?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" alt="Annabelle Poster">
</div>
<div class="carousel-item">
  <img src="https://tse1.mm.bing.net/th/id/OIP.eEwZG1g1ETNgg7yETea3VQHaLH?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" alt="Encanto">
</div>
<div class="carousel-item">
  <img src="https://tse2.mm.bing.net/th/id/OIP.96UB2s7rm-FhyOVNjt_xhQHaJ4?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" alt="The Conjuring Poster">
</div>
    </div>
  </div>
</div>

  <script>
    const carousel = document.getElementById('carousel');
    const track = document.getElementById('track');
    let isDragging = false;
    let startX;
    let scrollStart;

    carousel.addEventListener('pointerdown', (e) => {
      isDragging = true;
      startX = e.clientX;
      scrollStart = carousel.scrollLeft;
      carousel.style.cursor = 'grabbing';
    });

    carousel.addEventListener('pointermove', (e) => {
      if (!isDragging) return;
      const dx = e.clientX - startX;
      carousel.scrollLeft = scrollStart - dx;
      updateAngles();
    });

    carousel.addEventListener('pointerup', () => {
      isDragging = false;
      carousel.style.cursor = 'grab';
    });

    carousel.addEventListener('pointerleave', () => {
      isDragging = false;
      carousel.style.cursor = 'grab';
    });

    function updateAngles() {
      const items = track.querySelectorAll('.carousel-item');
      const center = window.innerWidth / 2;
      items.forEach(item => {
        const rect = item.getBoundingClientRect();
        const offset = rect.left + rect.width / 2 - center;
        const angle = offset / 25;
        const scale = 1 - Math.abs(offset) / 1000;
        item.style.setProperty('--angle', `${angle}deg`);
        item.style.setProperty('--scale', scale);
      });
    }

    window.addEventListener('resize', updateAngles);
    carousel.addEventListener('scroll', updateAngles);
    updateAngles();
  </script>
{% endblock %}
